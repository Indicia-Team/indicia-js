{"version":3,"file":"indicia.js","sources":["../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../src/constants.js","../node_modules/@babel/runtime/helpers/typeof.js","../src/helpers.js","../src/Media.js","../src/Occurrence.js","../src/Sample.js","../src/index.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","/* eslint-disable */\nexport const API_BASE = 'api/',\n  API_VER = 'v1',\n  API_SAMPLES_PATH = '/samples';\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/** *********************************************************************\n * HELPER FUNCTIONS\n ********************************************************************* */\n\nexport async function makeRequest(url, options, timeout = 80000) {\n  const timeoutTrigger = new Promise((_, reject) =>\n    setTimeout(() => reject(new Error('timeout')), timeout)\n  );\n\n  const res = await Promise.race([fetch(url, options), timeoutTrigger]);\n  const resJSON = (await res.json()) || {};\n  if (!res.ok) {\n    const error = new Error(res.statusText);\n    error.status = res.status;\n\n    if (!resJSON.errors) {\n      error.errors = resJSON.errors;\n    }\n    throw error;\n  }\n\n  return resJSON;\n}\n\n/**\n * Generate UUID.\n */\n/* eslint-disable no-bitwise */\nexport function getNewUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (Math.random() * 16) | 0;\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n\n    return v.toString(16);\n  });\n}\n/* eslint-enable no-bitwise */\n\n/**\n * Converts DataURI object to a Blob.\n *\n * @param {type} dataURI\n * @param {type} fileType\n * @returns {undefined}\n */\nexport function dataURItoBlob(dataURI, fileType) {\n  const binary = atob(dataURI.split(',')[1]);\n  const array = [];\n  for (let i = 0; i < binary.length; i++) {\n    array.push(binary.charCodeAt(i));\n  }\n  return new Blob([new Uint8Array(array)], {\n    type: fileType,\n  });\n}\n\n// Detecting data URLs\n// https://gist.github.com/bgrins/6194623\n\n// data URI - MDN https://developer.mozilla.org/en-US/docs/data_URIs\n// The 'data' URL scheme: http://tools.ietf.org/html/rfc2397\n// Valid URL Characters: http://tools.ietf.org/html/rfc2396#section2\nexport function isDataURL(string) {\n  if (!string) {\n    return false;\n  }\n  const normalized = string.toString(); // numbers\n\n  /* eslint-disable no-useless-escape, max-len */\n  const regex = /^\\s*data:([a-z]+\\/[a-z]+(;[a-z\\-]+\\=[a-z\\-]+)?)?(;base64)?,[a-z0-9\\!\\$\\&\\'\\,\\(\\)\\*\\+\\,\\;\\=\\-\\.\\_\\~\\:\\@\\/\\?\\%\\s]*\\s*$/i;\n  return !!normalized.match(regex);\n}\n/* eslint-enable no-useless-escape, max-len  */\n\n// From jQuery 1.4.4 .\n/* eslint-disable */\nexport function isPlainObject(obj) {\n  function type(obj) {\n    const class2type = {};\n    const types = 'Boolean Number String Function Array Date RegExp Object'.split(\n      ' '\n    );\n    for (let i = 0; i < types.length; i++) {\n      class2type[`[object ${types[i]}]`] = types[i].toLowerCase();\n    }\n    return obj == null\n      ? String(obj)\n      : class2type[toString.call(obj)] || 'object';\n  }\n\n  function isWindow(obj) {\n    return obj && typeof obj === 'object' && 'setInterval' in obj;\n  }\n\n  // Must be an Object.\n  // Because of IE, we also have to check the presence of the constructor property.\n  // Make sure that DOM nodes and window objects don't pass through, as well\n  if (!obj || type(obj) !== 'object' || obj.nodeType || isWindow(obj)) {\n    return false;\n  }\n\n  // Not own constructor property must be Object\n  if (\n    obj.constructor &&\n    !hasOwn.call(obj, 'constructor') &&\n    !hasOwn.call(obj.constructor.prototype, 'isPrototypeOf')\n  ) {\n    return false;\n  }\n\n  // Own properties are enumerated firstly, so to speed up,\n  // if last one is own, then all properties are own.\n\n  let key;\n  for (key in obj) {\n  }\n\n  return key === undefined || hasOwn.call(obj, key);\n}\n\n// checks if the object has any elements.\nexport function isEmptyObject(obj) {\n  for (const key in obj) {\n    return false;\n  }\n  return true;\n}\n/* eslint-enable */\n\n/**\n * Formats the date to Indicia Warehouse format.\n * @param date String or Date object\n * @returns String formatted date\n */\nexport function formatDate(dateToFormat) {\n  let date = dateToFormat;\n  let now = new Date();\n  let day = 0;\n  let month = 0;\n  const reg = /\\d{2}\\/\\d{2}\\/\\d{4}$/;\n  const regDash = /\\d{4}-\\d{1,2}-\\d{1,2}$/;\n  const regDashInv = /\\d{1,2}-\\d{1,2}-\\d{4}$/;\n  let dateArray = [];\n\n  if (typeof date === 'string') {\n    dateArray = date.split('-');\n    // check if valid\n    if (reg.test(date)) {\n      return date;\n      // dashed\n    }\n    if (regDash.test(date)) {\n      date = new Date(\n        window.parseInt(dateArray[0]),\n        window.parseInt(dateArray[1]) - 1,\n        window.parseInt(dateArray[2])\n      );\n      // inversed dashed\n    } else if (regDashInv.test(date)) {\n      date = new Date(\n        window.parseInt(dateArray[2]),\n        window.parseInt(dateArray[1]) - 1,\n        window.parseInt(dateArray[0])\n      );\n    }\n  }\n\n  now = date || now;\n  day = `0${now.getDate()}`.slice(-2);\n  month = `0${now.getMonth() + 1}`.slice(-2);\n\n  return `${day}/${month}/${now.getFullYear()}`;\n}\n\nexport function getBlobFromURL(url, mediaType) {\n  if (isDataURL(url)) {\n    const blob = dataURItoBlob(url, mediaType);\n    return Promise.resolve(blob);\n  }\n\n  return new Promise(resolve => {\n    // load image\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.responseType = 'blob';\n    xhr.onload = () => {\n      const blob = xhr.response;\n      resolve(blob);\n    };\n    // todo check error case\n\n    xhr.send();\n  });\n}\n","/** *********************************************************************\n * IMAGE\n ********************************************************************* */\n\nimport { getNewUUID } from './helpers';\n\nconst THUMBNAIL_WIDTH = 100; // px\nconst THUMBNAIL_HEIGHT = 100; // px\n\nexport default class Media {\n  cid = getNewUUID();\n\n  id = null;\n\n  attrs = {};\n\n  metadata = {\n    created_on: new Date(),\n  };\n\n  keys = {};\n\n  constructor(options = {}) {\n    this.id = options.id; // remote ID\n    this.cid = options.cid || this.cid;\n\n    this.attrs = {\n      ...this.attrs,\n      ...options.attrs,\n      ...options.attributes, // backwards compatible\n    };\n    this.metadata = { ...this.metadata, ...options.metadata };\n  }\n\n  /**\n   * Transforms and resizes an image file into a string.\n   * Can accept file image path and a file input file.\n   *\n   * @param onError\n   * @param file\n   * @param onSaveSuccess\n   * @returns {number}\n   */\n  static getDataURI(file, options = {}) {\n    const promise = new Promise((fulfill, reject) => {\n      // file paths\n      if (typeof file === 'string') {\n        // get extension\n        let fileType = file.replace(/.*\\.([a-z]+)$/i, '$1');\n        if (fileType === 'jpg') fileType = 'jpeg'; // to match media types image/jpeg\n\n        Media.resize(file, fileType, options.width, options.height).then(\n          args => {\n            const [image, dataURI] = args;\n            fulfill([dataURI, fileType, image.width, image.height]);\n          }\n        );\n        return;\n      }\n\n      // file inputs\n      if (!window.FileReader) {\n        reject(new Error('No File Reader'));\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.onload = function(event) {\n        if (options.width || options.height) {\n          // resize\n          Media.resize(\n            event.target.result,\n            file.type,\n            options.width,\n            options.height\n          ).then(args => {\n            const [image, dataURI] = args;\n            fulfill([dataURI, file.type, image.width, image.height]);\n          });\n        } else {\n          const image = new window.Image(); // native one\n\n          image.onload = () => {\n            const type = file.type.replace(/.*\\/([a-z]+)$/i, '$1');\n            fulfill([event.target.result, type, image.width, image.height]);\n          };\n          image.src = event.target.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    });\n\n    return promise;\n  }\n\n  /**\n   * http://stackoverflow.com/questions/2516117/how-to-scale-an-image-in-data-uri-format-in-javascript-real-scaling-not-usin\n   * @param data\n   * @param fileType\n   * @param MAX_WIDTH\n   * @param MAX_HEIGHT\n   */\n  static resize(data, fileType, MAX_WIDTH, MAX_HEIGHT) {\n    const promise = new Promise(fulfill => {\n      const image = new window.Image(); // native one\n\n      image.onload = () => {\n        let { width } = image;\n        let { height } = image;\n        const maxWidth = MAX_WIDTH || width;\n        const maxHeight = MAX_HEIGHT || height;\n\n        let res = null;\n\n        // resizing\n        if (width > height) {\n          res = width / maxWidth;\n        } else {\n          res = height / maxHeight;\n        }\n\n        width /= res;\n        height /= res;\n\n        // Create a canvas with the desired dimensions\n        const canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n\n        // Scale and draw the source image to the canvas\n        canvas.getContext('2d').drawImage(image, 0, 0, width, height);\n\n        // Convert the canvas to a data URL in some format\n        fulfill([image, canvas.toDataURL(fileType)]);\n      };\n\n      image.src = data;\n    });\n\n    return promise;\n  }\n\n  /**\n   * Returns image's absolute URL or dataURI.\n   */\n  getURL() {\n    return this.attrs.data;\n  }\n\n  /**\n   * Resizes itself.\n   */\n  resize(MAX_WIDTH, MAX_HEIGHT) {\n    const that = this;\n    const promise = new Promise((fulfill, reject) => {\n      Media.resize(this.getURL(), this.attrs.type, MAX_WIDTH, MAX_HEIGHT)\n        .then(args => {\n          const [image, data] = args;\n          that.attrs.data = data;\n          fulfill([image, data]);\n        })\n        .catch(reject);\n    });\n    return promise;\n  }\n\n  /**\n   * Adds a thumbnail to image model.\n   * @param options\n   */\n  addThumbnail(options = {}) {\n    const that = this;\n\n    const promise = new Promise((fulfill, reject) => {\n      // check if data source is dataURI\n      const re = /^data:/i;\n      if (re.test(this.getURL())) {\n        Media.resize(\n          this.getURL(),\n          this.attrs.type,\n          THUMBNAIL_WIDTH || options.width,\n          THUMBNAIL_WIDTH || options.width\n        )\n          .then(args => {\n            const [, data] = args;\n            that.attrs.thumbnail = data;\n            fulfill();\n          })\n          .catch(reject);\n        return;\n      }\n\n      Media.getDataURI(this.getURL(), {\n        width: THUMBNAIL_WIDTH || options.width,\n        height: THUMBNAIL_HEIGHT || options.height,\n      })\n        .then(data => {\n          [that.attrs.thumbnail] = data;\n          fulfill();\n        })\n        .catch(reject);\n    });\n\n    return promise;\n  }\n\n  toJSON() {\n    const data = {\n      id: this.id,\n      cid: this.cid,\n      metadata: this.metadata,\n      attrs: this.attrs,\n    };\n    return data;\n  }\n\n  static fromJSON(json) {\n    return new this(json);\n  }\n\n  /**\n   * Returns an object with attributes and their values\n   * mapped for warehouse submission.\n   *\n   * @returns {*}\n   */\n  getSubmission() {\n    const submission = {\n      id: this.id,\n      name: this.cid,\n    };\n\n    return [submission];\n  }\n}\n","/** *********************************************************************\n * OCCURRENCE\n ********************************************************************* */\nimport { getNewUUID } from './helpers';\nimport DefaultMedia from './Media';\n\nfunction defaultMetadata() {\n  const today = new Date();\n  return {\n    training: null,\n\n    created_on: today,\n    updated_on: today,\n\n    synced_on: null, // set when fully initialized only\n    server_on: null, // updated on server\n  };\n}\n\nexport default class Occurrence {\n  /**\n   * Warehouse attributes and their values.\n   */\n  static keys = {\n    taxon: {\n      id: 'taxa_taxon_list_id',\n    },\n    comment: { id: 'comment' },\n  };\n\n  cid = getNewUUID();\n\n  id = null;\n\n  attrs = {};\n\n  metadata = defaultMetadata();\n\n  media = [];\n\n  keys = Occurrence.keys;\n\n  constructor(options = {}) {\n    this.id = options.id; // remote ID\n    this.cid = options.cid || this.cid;\n\n    this.attrs = {\n      ...this.attrs,\n      ...options.attrs,\n      ...options.attributes, // backwards compatible\n    };\n    this.metadata = { ...this.metadata, ...options.metadata };\n  }\n\n  toJSON() {\n    let media;\n    if (!this.media) {\n      media = [];\n      console.warn('toJSON media missing');\n    } else {\n      media = this.media.map(m => m.toJSON());\n    }\n    const data = {\n      id: this.id,\n      cid: this.cid,\n      metadata: this.metadata,\n      attrs: this.attrs,\n      media,\n    };\n    return data;\n  }\n\n  static fromJSON(json, Media = DefaultMedia) {\n    const { media, ...options } = json;\n    const occurrence = new this(options);\n    media.forEach(m => occurrence.media.push(Media.fromJSON(m)));\n    return occurrence;\n  }\n\n  /**\n   * Returns an object with attributes and their values\n   * mapped for warehouse submission.\n   */\n  getSubmission(options = {}) {\n    const that = this;\n    const occKeys = typeof this.keys === 'function' ? this.keys() : this.keys;\n    const keys = { ...Occurrence.keys, ...occKeys }; // warehouse keys/values to transform\n    const media = [...this.media]; // all media within this and child models\n\n    const submission = {\n      id: this.id,\n      external_key: this.cid,\n      fields: {},\n      media: [],\n    };\n\n    if (this.metadata.training || options.training) {\n      submission.training = this.metadata.training || options.training;\n    }\n\n    if (this.metadata.release_status || options.release_status) {\n      submission.release_status =\n        this.metadata.release_status || options.release_status;\n    }\n\n    if (this.metadata.record_status || options.record_status) {\n      submission.record_status =\n        this.metadata.record_status || options.record_status;\n    }\n\n    if (this.metadata.sensitive || options.sensitive) {\n      submission.sensitive = this.metadata.sensitive || options.sensitive;\n    }\n\n    if (this.metadata.confidential || options.confidential) {\n      submission.confidential =\n        this.metadata.confidential || options.confidential;\n    }\n\n    if (this.metadata.sensitivity_precision || options.sensitivity_precision) {\n      submission.sensitivity_precision =\n        this.metadata.sensitivity_precision || options.sensitivity_precision;\n    }\n\n    function mapValue(attr, value) {\n      const valuesMapping = keys[attr].values;\n      if (!valuesMapping) {\n        return value;\n      }\n\n      if (typeof valuesMapping === 'function') {\n        return valuesMapping(value, submission, that);\n      }\n\n      if (valuesMapping instanceof Array) {\n        return valuesMapping.find(({ value: val }) => val === value).id;\n      }\n\n      if (value instanceof Array) {\n        return value.map(v => valuesMapping[v]);\n      }\n\n      return valuesMapping[value];\n    }\n\n    function getValue(attr) {\n      // no need to send attributes with no values\n      let value = that.attrs[attr];\n      if (!value) {\n        return;\n      }\n\n      if (!keys[attr]) {\n        if (attr !== 'email') {\n          console.warn(`Indicia: no such key: ${attr}`);\n        }\n        submission.fields[attr] = value;\n        return;\n      }\n\n      const warehouseAttr = keys[attr].id || attr;\n\n      value = mapValue(attr, value);\n\n      // don't need to send null or undefined\n      if (value) {\n        submission.fields[warehouseAttr] = value;\n      }\n    }\n\n    Object.keys(this.attrs).forEach(getValue);\n\n    // transform sub models\n    // media does not return any media-models only JSON data about them\n    // media files will be attached separately\n    const mediaSubmission = [];\n    this.media.forEach(model => {\n      const [modelSubmission] = model.getSubmission();\n      mediaSubmission.push(modelSubmission);\n    });\n    submission.media = mediaSubmission;\n\n    return [submission, media];\n  }\n}\n","/** *********************************************************************\n * SAMPLE\n *\n * Refers to the event in which the sightings were observed, in other\n * words it describes the place, date, people, environmental conditions etc.\n * Within a sample, you can have zero or more occurrences which refer to each\n * species sighted as part of the sample.\n ********************************************************************* */\nimport { API_BASE, API_VER, API_SAMPLES_PATH } from './constants';\nimport { makeRequest, getBlobFromURL, getNewUUID } from './helpers';\nimport DefaultMedia from './Media';\nimport DefaultOccurrence from './Occurrence';\n\nfunction defaultMetadata() {\n  const today = new Date();\n  return {\n    survey_id: null,\n    input_form: null,\n\n    created_on: today,\n    updated_on: today,\n\n    synced_on: null, // set when fully initialized only\n    server_on: null, // updated on server\n  };\n}\n\nfunction handleDuplicates(errors) {\n  // duplicate occurred - this fixes only occurrence duplicates!\n  // todo: remove once this is sorted\n  const res = {\n    data: {\n      id: null,\n      external_key: null,\n      occurrences: [],\n    },\n  };\n\n  errors.forEach(error => {\n    res.data.id = error.sample_id;\n    res.data.external_key = error.sample_external_key;\n    res.data.occurrences.push({\n      id: error.id,\n      external_key: error.external_key,\n    });\n  });\n\n  return res;\n}\n\nasync function appendModelToFormData(mediaModel, formData) {\n  // can provide both image/jpeg and jpeg\n  const { type } = mediaModel.attrs;\n  let extension = type;\n  let mediaType = type;\n  if (type.match(/image.*/)) {\n    [, extension] = type.split('/');\n  } else {\n    mediaType = `image/${mediaType}`;\n  }\n\n  const url = mediaModel.getURL();\n  const blob = await getBlobFromURL(url, mediaType);\n\n  const name = mediaModel.cid;\n  formData.append(name, blob, `${name}.${extension}`);\n}\n\nfunction setNewRemoteID(model, remoteIDs) {\n  // set new remote ID\n  const remoteID = remoteIDs[model.cid];\n  if (remoteID) {\n    model.id = remoteID;\n  }\n\n  // do that for all submodels\n  if (model.samples) {\n    model.samples.forEach(subModel => setNewRemoteID(subModel, remoteIDs));\n  }\n  if (model.occurrences) {\n    model.occurrences.forEach(subModel => setNewRemoteID(subModel, remoteIDs));\n  }\n  if (model.media) {\n    model.media.forEach(subModel => setNewRemoteID(subModel, remoteIDs));\n  }\n}\n\n/**\n * Creates a stringified JSON representation of the model or a FormData object.\n * If the media is present then it creates a FormData so that the record\n * could be submitted in one call.\n */\nasync function normaliseModelData(data, media) {\n  const dataStr = JSON.stringify({ data });\n\n  if (!media.length) {\n    return dataStr;\n  }\n\n  const formData = new FormData(); // for submission\n  formData.append('submission', dataStr);\n\n  const mediaProcesses = media.map(m => appendModelToFormData(m, formData));\n  await Promise.all(mediaProcesses);\n\n  return formData;\n}\n\nfunction remoteCreateParse(model, responseData) {\n  // get new ids\n  const remoteIDs = {};\n\n  // recursively extracts ids from collection of response models\n  function getIDs(data) {\n    remoteIDs[data.external_key] = data.id;\n    if (data.samples) {\n      data.samples.forEach(subModel => getIDs(subModel));\n    }\n    if (data.occurrences) {\n      data.occurrences.forEach(subModel => getIDs(subModel));\n    }\n    // Images don't store external_keys yet.\n    // if (data.media) data.media.forEach(subModel => getIDs(subModel));\n  }\n\n  getIDs(responseData);\n\n  setNewRemoteID(model, remoteIDs);\n}\n\nfunction getUserAuth(remote) {\n  if (!remote.user || !remote.password) {\n    return null;\n  }\n\n  const user = typeof remote.user === 'function' ? remote.user() : remote.user;\n  const password =\n    typeof remote.password === 'function' ? remote.password() : remote.password;\n  const basicAuth = btoa(`${user}:${password}`);\n\n  return `Basic  ${basicAuth}`;\n}\n\nexport default class Sample {\n  /**\n   * Warehouse attributes and their values.\n   */\n  static keys = {\n    date: { id: 'date' },\n    sample_method_id: { id: 'sample_method_id' },\n    location: { id: 'entered_sref' },\n    location_type: {\n      id: 'entered_sref_system',\n      values: {\n        british: 'OSGB', // for British National Grid\n        irish: 'OSIE', // for Irish Grid\n        channel: 'utm30ed50', // for Channel Islands Grid\n        latlon: 4326, // for Latitude and Longitude in decimal form (WGS84 datum)\n      },\n    },\n    form: { id: 'input_form' },\n    group: { id: 'group_id' },\n    comment: { id: 'comment' },\n  };\n\n  static fromJSON(\n    json,\n    Occurrence = DefaultOccurrence,\n    Sample = this, // eslint-disable-line\n    Media = DefaultMedia\n  ) {\n    const { samples, occurrences, media, ...options } = json;\n    const sample = new this(options);\n    samples.forEach(smp => sample.samples.push(Sample.fromJSON(smp)));\n    occurrences.forEach(occ =>\n      sample.occurrences.push(Occurrence.fromJSON(occ))\n    );\n    media.forEach(m => sample.media.push(Media.fromJSON(m)));\n    return sample;\n  }\n\n  cid = getNewUUID();\n\n  id = null;\n\n  attrs = {\n    date: new Date(),\n    location_type: 'latlon',\n  };\n\n  metadata = defaultMetadata();\n\n  media = [];\n\n  occurrences = [];\n\n  samples = [];\n\n  keys = Sample.keys;\n\n  remote = {\n    host_url: null, // must be set up for remote sync\n    api_key: null, // must be set up for remote sync\n    timeout: 30000, // 30s\n\n    user: null, // must be set up for remote sync\n    password: null, // must be set up for remote sync\n\n    synchronising: false,\n  };\n\n  constructor(options = {}) {\n    this.id = options.id; // remote ID\n    this.cid = options.cid || getNewUUID();\n\n    this.attrs = {\n      ...this.attrs,\n      ...options.attrs,\n      ...options.attributes, // backwards compatible\n    };\n    this.metadata = { ...this.metadata, ...options.metadata };\n  }\n\n  toJSON() {\n    let occurrences;\n    if (!this.occurrences) {\n      occurrences = [];\n      console.warn('toJSON occurrences missing');\n    } else {\n      occurrences = this.occurrences.map(model => model.toJSON());\n    }\n\n    let samples;\n    if (!this.samples) {\n      samples = [];\n      console.warn('toJSON samples missing');\n    } else {\n      samples = this.samples.map(model => model.toJSON());\n    }\n\n    let media;\n    if (!this.media) {\n      media = [];\n      console.warn('toJSON media missing');\n    } else {\n      media = this.media.map(model => model.toJSON());\n    }\n\n    const data = {\n      id: this.id,\n      cid: this.cid,\n      metadata: this.metadata,\n      attrs: this.attrs,\n      occurrences,\n      samples,\n      media,\n    };\n\n    return data;\n  }\n\n  async saveRemote() {\n    // Ensure that we have a URL.\n    if (!this.remote.host_url || !this.remote.api_key) {\n      return Promise.reject(\n        new Error('A \"remote\" property is not configured.')\n      );\n    }\n\n    try {\n      this.remote.synchronising = true;\n\n      // get submission model and all the media\n      const [submission, media] = this.getSubmission();\n      submission.type = 'samples';\n\n      const data = await normaliseModelData(submission, media);\n\n      const resp = await this._createRemote(data);\n      this.remote.synchronising = false;\n\n      // update the model and occurrences with new remote IDs\n      remoteCreateParse(this, resp.data);\n\n      // update metadata\n      const timeNow = new Date();\n      this.metadata.server_on = timeNow;\n      this.metadata.updated_on = timeNow;\n      this.metadata.synced_on = timeNow;\n\n      return this;\n    } catch (err) {\n      this.remote.synchronising = false;\n      throw err;\n    }\n  }\n\n  getSubmission(options = {}) {\n    const that = this;\n    const sampleKeys =\n      typeof this.keys === 'function' ? this.keys() : this.keys;\n    const keys = { ...Sample.keys, ...sampleKeys }; // warehouse keys/values to transform\n    let media = [...this.media]; // all media within this and child models\n\n    const submission = {\n      id: this.id,\n      external_key: this.cid,\n      survey_id: this.metadata.survey_id,\n      input_form: this.metadata.input_form,\n      fields: {},\n      media: [],\n    };\n\n    function mapValue(attr, value) {\n      const valuesMapping = keys[attr].values;\n      if (!valuesMapping) {\n        return value;\n      }\n\n      if (typeof valuesMapping === 'function') {\n        return valuesMapping(value, submission, that);\n      }\n\n      if (valuesMapping instanceof Array) {\n        return valuesMapping.find(({ value: val }) => val === value).id;\n      }\n\n      if (value instanceof Array) {\n        return value.map(v => valuesMapping[v]);\n      }\n\n      return valuesMapping[value];\n    }\n\n    function getValue(attr) {\n      // no need to send attributes with no values\n      let value = that.attrs[attr];\n      if (!value) {\n        return;\n      }\n\n      if (!keys[attr]) {\n        if (attr !== 'email') {\n          console.warn(`Indicia: no such key: ${attr}`);\n        }\n        submission.fields[attr] = value;\n        return;\n      }\n\n      const warehouseAttr = keys[attr].id || attr;\n\n      value = mapValue(attr, value);\n\n      // don't need to send null or undefined\n      if (value) {\n        submission.fields[warehouseAttr] = value;\n      }\n    }\n\n    Object.keys(this.attrs).forEach(getValue);\n\n    const sampleOptions = { ...options };\n    this.metadata.training && (sampleOptions.training = this.metadata.training);\n    this.metadata.release_status &&\n      (sampleOptions.release_status = this.metadata.release_status);\n    this.metadata.record_status &&\n      (sampleOptions.record_status = this.metadata.record_status);\n    this.metadata.sensitive &&\n      (sampleOptions.sensitive = this.metadata.sensitive);\n    this.metadata.confidential &&\n      (sampleOptions.confidential = this.metadata.confidential);\n    this.metadata.sensitivity_precision &&\n      (sampleOptions.sensitivity_precision = this.metadata.sensitivity_precision);\n\n    // transform sub models\n    // occurrences\n\n    const occurrences = [];\n    let occurrencesMedia = [];\n    this.occurrences.forEach(model => {\n      const [modelSubmission, modelMedia] = model.getSubmission(sampleOptions);\n      if (!modelSubmission) {\n        return;\n      }\n\n      occurrences.push(modelSubmission);\n      occurrencesMedia = occurrencesMedia.concat(modelMedia);\n    });\n\n    submission.occurrences = occurrences;\n    media = media.concat(occurrencesMedia);\n\n    // samples\n    const samples = [];\n    let samplesMedia = [];\n    this.samples.forEach(model => {\n      const [modelSubmission, modelMedia] = model.getSubmission(sampleOptions);\n      if (!modelSubmission) {\n        return;\n      }\n\n      samples.push(modelSubmission);\n      samplesMedia = samplesMedia.concat(modelMedia);\n    });\n\n    submission.samples = samples;\n    media = media.concat(samplesMedia);\n\n    // media - does not return any media-models only JSON data about them\n    const mediaSubmission = [];\n    this.media.forEach(model => {\n      const [modelSubmission] = model.getSubmission();\n      mediaSubmission.push(modelSubmission);\n    });\n\n    submission.media = mediaSubmission;\n\n    return [submission, media];\n  }\n\n  async _createRemote(data) {\n    const url = this.remote.host_url + API_BASE + API_VER + API_SAMPLES_PATH;\n\n    const options = {\n      method: 'POST',\n      headers: {\n        authorization: getUserAuth(this.remote),\n        'x-api-key': this.remote.api_key,\n      },\n      body: data,\n    };\n\n    try {\n      return await makeRequest(url, options);\n    } catch (e) {\n      const { status, errors = [] } = e;\n      if (status === 409) {\n        return handleDuplicates(errors);\n      }\n\n      if (errors) {\n        const message = errors.reduce(\n          (name, err) => `${name}${err.title}\\n`,\n          ''\n        );\n        throw new Error(message);\n      }\n\n      throw e;\n    }\n  }\n}\n","import Sample from './Sample';\nimport Occurrence from './Occurrence';\nimport Media from './Media';\nimport * as CONST from './constants';\n\nconst Indicia = {\n  /* global LIB_VERSION */\n  VERSION: LIB_VERSION, // replaced by build\n\n  Sample,\n  Occurrence,\n  Media,\n\n  ...CONST,\n};\n\nexport { Sample, Occurrence, Media };\nexport default Indicia;\n"],"names":["undefined","require$$0","API_BASE","API_VER","API_SAMPLES_PATH","makeRequest","url","options","timeout","timeoutTrigger","Promise","_","reject","setTimeout","Error","race","fetch","res","json","resJSON","ok","error","statusText","status","errors","getNewUUID","replace","c","r","Math","random","v","toString","dataURItoBlob","dataURI","fileType","binary","atob","split","array","i","length","push","charCodeAt","Blob","Uint8Array","type","isDataURL","string","normalized","regex","match","getBlobFromURL","mediaType","blob","resolve","xhr","XMLHttpRequest","open","responseType","onload","response","send","THUMBNAIL_WIDTH","THUMBNAIL_HEIGHT","Media","created_on","Date","id","cid","attrs","attributes","metadata","data","MAX_WIDTH","MAX_HEIGHT","that","promise","fulfill","resize","getURL","then","args","image","catch","re","test","width","thumbnail","getDataURI","height","submission","name","file","window","FileReader","reader","event","target","result","Image","src","readAsDataURL","maxWidth","maxHeight","canvas","document","createElement","getContext","drawImage","toDataURL","defaultMetadata","today","training","updated_on","synced_on","server_on","Occurrence","keys","media","console","warn","map","m","toJSON","occKeys","external_key","fields","release_status","record_status","sensitive","confidential","sensitivity_precision","mapValue","attr","value","valuesMapping","values","Array","find","val","getValue","warehouseAttr","Object","forEach","mediaSubmission","model","getSubmission","modelSubmission","DefaultMedia","occurrence","fromJSON","taxon","comment","survey_id","input_form","handleDuplicates","occurrences","sample_id","sample_external_key","appendModelToFormData","mediaModel","formData","extension","append","setNewRemoteID","remoteIDs","remoteID","samples","subModel","normaliseModelData","dataStr","JSON","stringify","FormData","mediaProcesses","all","remoteCreateParse","responseData","getIDs","getUserAuth","remote","user","password","basicAuth","btoa","Sample","DefaultOccurrence","sample","smp","occ","date","location_type","host_url","api_key","synchronising","_createRemote","resp","timeNow","sampleKeys","sampleOptions","occurrencesMedia","modelMedia","concat","samplesMedia","method","headers","authorization","body","message","reduce","err","title","sample_method_id","location","british","irish","channel","latlon","form","group","Indicia","VERSION","CONST"],"mappings":"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"}